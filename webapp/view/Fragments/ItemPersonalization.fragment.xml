<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form" xmlns:l="sap.ui.layout">
	<Dialog title="{i18n>personalization}" class="sapUiSizeCompact custBox" contentWidth="30%">
		<content>
			<VBox >
				<Toolbar>
					<Label text="{i18n>Variant}" visible="{oItemLevelPersonalizationModel>/results/selectVarVisible}"/>
					<Select items="{oItemLevelPersonalizationModel>/results/personalizationItemData/variantName}" selectedKey="{oItemLevelPersonalizationModel>/results/personalizationItemData/currentVariant}" width="50%" change="onSelectvarianItem" visible="{FilterPersonalization>/results/selectVarVisible}">
						<core:Item key="{oItemLevelPersonalizationModel>name}" text="{oItemLevelPersonalizationModel>name}"/>
					</Select>
					<Label text="{i18n>VariantName}" required="true" visible="{oItemLevelPersonalizationModel>/results/nameVarVisible}"/>
					<Input value="{oItemLevelPersonalizationModel>/results/newVariantName}" placeholder="{i18n>VariantName}" valueState="{oItemLevelPersonalizationModel>/results/varinatNameValueState}" visible="{oItemLevelPersonalizationModel>/results/nameVarVisible}" width="50%"/>
					<ToolbarSpacer></ToolbarSpacer>
					<Button icon="sap-icon://add-activity" press="onVariantCreateItem" tooltip="{i18n>Create}" visible="{oItemLevelPersonalizationModel>/results/createPersBtnVisible}"/>
					<Button icon="sap-icon://edit" press="onVariantEditItem" tooltip="{i18n>Edit}" visible="{oItemLevelPersonalizationModel>/results/editPersBtnVisible}"/>
				</Toolbar>
				
				<Table headerText="Header Level" id="idProductsTable" inset="false" items="{oItemLevelPersonalizationModel>/header}">
					<columns>
						<Column ></Column>
					</columns>
					<items>
						<ColumnListItem>
							<cells>
								<HBox>
									<!--"-->
									<CheckBox selected="{oItemLevelPersonalizationModel>status}" select="onChangeCheckboxHeader" enabled="{oItemLevelPersonalizationModel>/results/enableCheckBox}"/>
									<Text text="{oItemLevelPersonalizationModel>/header/userPersonaDto/enabledKey}"/>
								</HBox>
							</cells>
						</ColumnListItem>
					</items>
				</Table>
				<Table headerText="Item Level" inset="false" items="{oItemLevelPersonalizationModel>/item}">
					<columns>
						<Column ></Column>
					</columns>
					<items>
						<ColumnListItem visible="{path: 'oItemLevelPersonalizationModel>key', formatter:'.formatter.hideMultipleFilter'}">
							<cells>
								<HBox>
									<CheckBox selected="{oItemLevelPersonalizationModel>status}" select="onChangeCheckboxItem" enabled="{oItemLevelPersonalizationModel>/results/enableCheckBox}"/>
									<Text text="{oItemLevelPersonalizationModel>/item/userPersonaDto/enabledKey}"/>
								</HBox>
							</cells>
						</ColumnListItem>
					</items>
				</Table>
			</VBox>
		</content>
		<buttons>
			<Button text="{i18n>ok}" press="onPersonalizationOK" tooltip="OK"/>
			<!--<Button text="{i18n>reset2DefaultBtn}" press="onPersonalizationReset" tooltip="Reset" type="Default"/>-->
			<Button text="{i18n>cancel}" press="onPersonalizationClose" tooltip="Cancel" type="Default"/>
			<Button text="{i18n>Save}" press="onVariantSaveItem" tooltip="{i18n>Save}" visible="{oItemLevelPersonalizationModel>/savePersBtnVisible}"/>
			<Button text="{i18n>Delete}" press="onVariantDeleteItem" tooltip="{i18n>cancelbtntext}" visible="{oItemLevelPersonalizationModel>/deletePersBtnVisible}"/>
			<Button text="{i18n>cancelbtntext}" press="handleCloseValueHelp($event, 'Personalization')" tooltip="{i18n>cancelbtntext}"/>
		</buttons>
	</Dialog>
</core:FragmentDefinition>